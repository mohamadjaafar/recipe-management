# RecipeAI — AI-Powered Recipe Management System

A full-stack recipe management web application powered by **Claude AI**, built with **Next.js 16**, **Supabase**, and **Tailwind CSS**. Users can manage their personal recipe collections, generate new recipes using AI, get ingredient substitutions, analyze nutrition, and plan weekly meals — all from one clean interface.

---

## Live Demo

> Deployed on Vercel — link available after deployment

---

## Features

### Core Recipe Management
- **Add / Edit / Delete** recipes with full metadata (title, description, ingredients, instructions, cuisine, prep time, cook time, servings, difficulty)
- **Status Tagging** — mark recipes as `Favorite`, `To Try`, or `Made Before`
- **Smart Search** — filter by title, description, or cuisine type
- **Filter by Status & Cuisine** — dropdown filters for quick browsing
- **Public / Private** toggle — share recipes with the community or keep them private

### AI Features (Powered by Claude)
- **AI Recipe Generator** — enter ingredients you have, get a complete recipe generated by Claude (`claude-sonnet-4-6`)
- **AI Ingredient Substitutions** — hover any ingredient on a recipe page and click "sub?" to get smart substitution suggestions instantly
- **AI Nutritional Analysis** — automatically estimates calories, protein, carbs, fat, and fiber per serving when a recipe is saved
- **AI Meal Planner** — generate a full weekly meal plan (3, 5, or 7 days) based on your saved recipes, with breakfast/lunch/dinner slots

### Multi-User & Sharing
- **Authentication** — email/password sign up and sign in via Supabase Auth
- **Per-user collections** — each user's recipes are private by default (Row Level Security enforced)
- **Recipe Sharing** — share any recipe with another user by email
- **Community Explorer** — browse all publicly shared recipes from other users
- **User Profiles** — update your display name, username, and bio; view your personal recipe stats

---

## Tech Stack

| Layer | Technology |
|---|---|
| Framework | Next.js 16 (App Router) + TypeScript |
| Styling | Tailwind CSS v4 + Radix UI primitives |
| Database | Supabase (PostgreSQL) |
| Authentication | Supabase Auth |
| Authorization | Row Level Security (RLS) policies |
| AI | Anthropic Claude API (`claude-sonnet-4-6`, `claude-haiku-4-5`) |
| Deployment | Vercel |

---

## Project Structure

```
recipe-management/
├── app/
│   ├── (dashboard)/          # Protected routes (sidebar layout)
│   │   ├── recipes/          # Recipe list, detail, create, edit
│   │   ├── ai-generator/     # AI recipe generation page
│   │   ├── meal-planner/     # AI weekly meal planner
│   │   ├── shared/           # Community & shared recipes
│   │   └── profile/          # User profile & stats
│   ├── api/
│   │   ├── ai/               # Claude AI API routes
│   │   │   ├── generate-recipe/
│   │   │   ├── substitutions/
│   │   │   ├── nutrition/
│   │   │   └── meal-plan/
│   │   └── recipes/share/    # Recipe sharing endpoint
│   ├── login/                # Auth pages
│   └── register/
├── components/
│   ├── layout/               # Navbar, Sidebar
│   ├── recipes/              # RecipeForm component
│   └── ui/                   # Button, Card, Input, Badge, etc.
├── lib/
│   ├── supabase/             # Supabase client, server, middleware
│   ├── anthropic.ts          # Anthropic SDK instance
│   └── utils.ts
├── types/                    # TypeScript interfaces
└── supabase/
    └── schema.sql            # Full database schema + RLS policies
```

---

## Local Development Setup

### Prerequisites
- Node.js 18+
- A [Supabase](https://supabase.com) account
- An [Anthropic](https://console.anthropic.com) API key

### 1. Clone the repository
```bash
git clone https://github.com/mohamadjaafar/recipe-management.git
cd recipe-management
```

### 2. Install dependencies
```bash
npm install
```

### 3. Configure environment variables
Create a `.env.local` file in the root:
```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
ANTHROPIC_API_KEY=your_anthropic_api_key
```

### 4. Set up the database
1. Go to your Supabase project dashboard
2. Open **SQL Editor** → **New Query**
3. Paste the contents of `supabase/schema.sql` and click **Run**

This creates the following tables with RLS enabled:
- `profiles` — user profile data
- `recipes` — recipe records with JSONB ingredients
- `recipe_shares` — per-user sharing records
- `meal_plans` — saved AI-generated meal plans

It also sets up a trigger that auto-creates a profile whenever a new user registers.

### 5. Run the development server
```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000)

---

## Deployment to Vercel

1. Push this repo to GitHub
2. Go to [vercel.com](https://vercel.com) → **Add New Project** → import the repo
3. Add the following **Environment Variables** in Vercel project settings:

| Variable | Value |
|---|---|
| `NEXT_PUBLIC_SUPABASE_URL` | Your Supabase project URL |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Your Supabase anon key |
| `SUPABASE_SERVICE_ROLE_KEY` | Your Supabase service role key |
| `ANTHROPIC_API_KEY` | Your Anthropic API key |

4. Click **Deploy**

---

## How the AI Features Work

### Recipe Generator
Sends your available ingredients, cuisine preference, dietary restrictions, and difficulty level to `claude-sonnet-4-6`. Claude returns a structured JSON recipe that is displayed instantly and can be saved to your collection with one click.

### Ingredient Substitutions
When you hover an ingredient and click "sub?", the ingredient name and recipe title are sent to `claude-haiku-4-5` which returns 2–3 practical substitutes with ratios and tips — all in under 2 seconds.

### Nutritional Analysis
When saving a recipe, the full ingredient list is sent to `claude-haiku-4-5` which estimates per-serving macros (calories, protein, carbs, fat, fiber). Results are stored in the recipe record as JSONB.

### Meal Planner
Your saved recipe list is sent to `claude-sonnet-4-6` along with your preferences (duration, dietary notes). Claude returns a structured day-by-day meal plan which renders in a responsive table. Plans can be saved and named for reference.

---

## Assessment Context

This project was built as part of an AI-assisted development assessment. The entire application — architecture, code, database schema, and deployment configuration — was generated using **Claude AI (Claude Code)**. The goal was to evaluate effective use of AI tools in a real full-stack development workflow.
